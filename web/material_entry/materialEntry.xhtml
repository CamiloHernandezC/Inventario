<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../template.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="content">
        <h:form id="formularioIngresoMateriales">
            <p:focus context="formularioIngresoMateriales" for="express"/>
            <h:panelGrid columns="1" cellpadding="5px">
                <h:panelGrid columns="4" cellpadding="5px">
                    
                    <h:outputLabel value="Numero de Reminsion" />
                    <p:inputText autocomplete="false" disabled="true" required="true" requiredMessage="REMISION"/>
                    
                    <p:panelGrid/>
                    <p:panelGrid/>
                    
                    <h:outputLabel for="express" value="Codigo de Barras*" />
                    <p:inputText  autocomplete="false" value="#{materialesController.selected.idMaterial}" id="express">
                        <p:ajax event="blur" listener="#{cardexController.agregarTablaMaterial()}"/>
                    </p:inputText>
                    
                    <h:outputLabel value="Numero de Reminsion Llegada" />
                    <p:inputText autocomplete="false" value="#{remisionesController.selected.idRemision}"/>
                    
                    
                
                </h:panelGrid>

                <p:dataTable id="tablaCardex" paginator="true" rows="10" var="cardex" value="#{cardexController.items}" >
                    <p:column filterBy="#{cardex.materialesSucursal.materiales.descripcion}" style="font-size:11px" headerText="Material">
                        <h:outputText  value="#{cardex.materialesSucursal.materiales.descripcion}"/>
                    </p:column>

                    <p:column filterBy="#{cardex.materialesSucursal.materiales.idMaterial}" style="font-size:11px" headerText="Codigo">
                        <h:outputText value="#{cardex.materialesSucursal.materiales.idMaterial}"/>
                    </p:column>
                    
                    <p:column style="font-size:11px" headerText="Cantidad">
                        <h:outputText  value="#{cardex.cantida}"/>
                    </p:column>
                </p:dataTable>

                <h:panelGrid columns="3">

                    <p:commandButton value="Guardar" immediate="true" actionListener="#{cardexController.guardarCardex()}"/>
                    <p:commandButton value="Pausar"/>
                    <p:commandButton value="Cancelar" onclick="PF('dialogoCancelarEntradaMateriales').show();" immediate="true"/>

                </h:panelGrid>
            </h:panelGrid>
        </h:form>
    </ui:define>
</ui:composition>
